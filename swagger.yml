{"openapi":"3.0.1","info":{"title":"Социальная сеть","description":"Социальная сеть с широкими возможностями для обмена сообщениями и поиска друзей","version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Geo service","description":"Работа со странами и городами"},{"name":"Storage service","description":"Работа с сохранением фото"},{"name":"Friend service","description":"Сервис друзей. Под друзьями понимается состояние отношений между пользователями: Дружба, Исходящая или Входящая заявка, Рекомендация, Блокировка"},{"name":"Account service","description":"Работа с аккаунтом пользователя"},{"name":"Post service","description":"Работа с постами и комментариями"},{"name":"Dialog service","description":"Работа с диалогами"}],"paths":{"/api/v1/post":{"get":{"tags":["Post service"],"summary":"Получение постов","operationId":"getAll","parameters":[{"name":"searchDto","in":"query","required":true,"schema":{"$ref":"#/components/schemas/PostSearchDto"}},{"name":"page","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"404":{"description":"Посты не найдены"},"200":{"description":"Посты получены","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/Pageable"},{"$ref":"#/components/schemas/PostDto"}]}}}},"400":{"description":"Bad Request"}}},"put":{"tags":["Post service"],"summary":"Обновление поста","operationId":"update","requestBody":{"content":{"application/json":{"schema":{"type":"string","description":"id Поста для обновления"}}},"required":true},"responses":{"201":{"description":"Пост обновлен","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PostDto"}]}}}},"404":{"description":"Посты не найдены"},"400":{"description":"Bad Request"}}},"post":{"tags":["Post service"],"summary":"Создание поста","operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostDto"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"201":{"description":"Пост создан","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PostDto"}]}}}}}}},"/api/v1/post/{id}/comment/{commentId}":{"put":{"tags":["Post service"],"summary":"Создание субкоммента к комменту","operationId":"updateComment","parameters":[{"name":"id","in":"path","description":"id поста","required":true,"schema":{"type":"string","description":"id поста"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"string","description":"id комментария"}}},"required":true},"responses":{"404":{"description":"Коммент не найден"},"201":{"description":"Субкомент создан","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/CommentDto"}]}}}},"400":{"description":"Bad Request"}}},"delete":{"tags":["Post service"],"summary":"Удаление комментария","operationId":"deleteComment","parameters":[{"name":"id","in":"path","description":"id Поста","required":true,"schema":{"type":"string","description":"id Поста"}},{"name":"commentId","in":"path","description":"id комментария для удаления","required":true,"schema":{"type":"string","description":"id комментария для удаления"}}],"responses":{"404":{"description":"Коммент не найден"},"200":{"description":"Коммент удален"},"400":{"description":"Bad Request"}}}},"/api/v1/notifications/settings":{"get":{"tags":["notification-controller-impl"],"operationId":"getSettings","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NotificationSettingsDto"}}}}}},"put":{"tags":["notification-controller-impl"],"operationId":"updateSettings","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationSettingDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/v1/geo/load":{"put":{"tags":["Geo service"],"summary":"Загрузка стран и городов","operationId":"loadGeo","responses":{"200":{"description":"Страны и города загружены"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/friends/{id}/approve":{"put":{"tags":["Friend service"],"summary":"Принятие входящей заявки в друзья","operationId":"approveFriend","parameters":[{"name":"id","in":"path","description":"id пользователя","required":true,"schema":{"type":"string","description":"id пользователя"}}],"responses":{"404":{"description":"Пользователь не найден"},"400":{"description":"Bad Request"},"200":{"description":"Заявка принята","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FriendDto"}]}}}},"401":{"description":"Unauthorized"}}}},"/api/v1/friends/block/{id}":{"put":{"tags":["Friend service"],"summary":"Блокировка либо разблокировка друга","operationId":"blockFriend","parameters":[{"name":"id","in":"path","description":"id пользователя","required":true,"schema":{"type":"string","description":"id пользователя"}}],"responses":{"200":{"description":"Блокировка или разблокировка прошла успешно","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FriendDto"}]}}}},"404":{"description":"Пользователь не найден"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/dialogs/{companionId}":{"put":{"tags":["Dialog service"],"summary":"Обновление статуса сообщений","operationId":"setStatusMessageRead","parameters":[{"name":"companionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Статус сообщений обновлен","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/StatusMessageReadRs"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/account/me":{"get":{"tags":["Account service"],"summary":"Получение аккаунта","operationId":"getMe","responses":{"200":{"description":"Аккаунт получен","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AccountDto"},{"$ref":"#/components/schemas/UserDto"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}},"put":{"tags":["Account service"],"summary":"Обновление аккаунта","operationId":"update_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountDto"}}},"required":true},"responses":{"200":{"description":"Аккаунт обновлен","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/AccountDto"},{"$ref":"#/components/schemas/UserDto"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}},"delete":{"tags":["Account service"],"summary":"Удаление аккаунта","operationId":"deleteMe","responses":{"200":{"description":"Аккаунт удален"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/storage":{"post":{"tags":["Storage service"],"summary":"Создание фото к аккаунту","operationId":"storeAccountPhoto","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"string","description":"Файл фото"}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StorageDto"}}}}}}},"/api/v1/post/{id}/like":{"post":{"tags":["Post service"],"summary":"Создание лайка к посту","operationId":"createPostLike","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"201":{"description":"Лайк к посту создан","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/LikeDto"}]}}}},"404":{"description":"Not Found"},"400":{"description":"Bad Request"}}},"delete":{"tags":["Post service"],"summary":"Удаление лайка поста","operationId":"deletePostLike","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Not Found"},"200":{"description":"Лайк поста удален"},"400":{"description":"Bad Request"}}}},"/api/v1/post/{id}/comment":{"get":{"tags":["Post service"],"summary":"Получение комментов к посту","operationId":"getComment","parameters":[{"name":"id","in":"path","description":"id поста","required":true,"schema":{"type":"string","description":"id поста"}},{"name":"page","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"Комменты получены","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/Pageable"},{"$ref":"#/components/schemas/CommentDto"}]}}}},"404":{"description":"Комменты не найдены"},"400":{"description":"Bad Request"}}},"post":{"tags":["Post service"],"summary":"Создание коммента к посту","operationId":"createComment","parameters":[{"name":"id","in":"path","description":"id поста","required":true,"schema":{"type":"string","description":"id поста"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDto"}}},"required":true},"responses":{"201":{"description":"Комент создан","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/CommentDto"}]}}}},"404":{"description":"Пост не найден"},"400":{"description":"Bad Request"}}}},"/api/v1/post/{id}/comment/{commentId}/like":{"post":{"tags":["Post service"],"summary":"Создание лайка к комментарию","operationId":"createCommentLike","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Not Found"},"201":{"description":"Лайк комментария создан","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/LikeDto"}]}}}},"400":{"description":"Bad Request"}}},"delete":{"tags":["Post service"],"summary":"Удаление лайка комментария","operationId":"deleteCommentLike","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Not Found"},"200":{"description":"Лайк комментария удален"},"400":{"description":"Bad Request"}}}},"/api/v1/notifications/add":{"post":{"tags":["notification-controller-impl"],"operationId":"addNotification","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventNotification"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/v1/friends/{id}/request":{"post":{"tags":["Friend service"],"summary":"Отправка заявки в друзья","operationId":"addFriend","parameters":[{"name":"id","in":"path","description":"id пользователя","required":true,"schema":{"type":"string","description":"id пользователя"}}],"responses":{"200":{"description":"Заявка отправлена","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FriendDto"}]}}}},"404":{"description":"Друг не найден"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/friends/subscribe/{id}":{"post":{"tags":["Friend service"],"summary":"Отправка подписки","operationId":"addSubscription","parameters":[{"name":"id","in":"path","description":"id пользователя","required":true,"schema":{"type":"string","description":"id пользователя"}}],"responses":{"200":{"description":"Подписка отправлена","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FriendDto"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/auth/register":{"post":{"tags":["auth-controller-impl"],"summary":"Регистрация нового пользователя","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegistrationDto"}}},"required":true},"responses":{"200":{"description":"Пользователь зарегистрирован"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/auth/password/recovery":{"post":{"tags":["auth-controller-impl"],"summary":"Запрос письма на восстановление пароля","operationId":"getPasswordRecoveryMail","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordRecoveryDto"}}},"required":true},"responses":{"200":{"description":"Письмо отправлено"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/auth/password/recovery/{linkId}":{"post":{"tags":["auth-controller-impl"],"summary":"Устновка нового пароля","operationId":"setPassword","parameters":[{"name":"linkId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewPasswordDto"}}},"required":true},"responses":{"200":{"description":"Пароль изменён"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/auth/logout":{"post":{"tags":["auth-controller-impl"],"summary":"Логаут","operationId":"logout","responses":{"200":{"description":"Успешный логаут"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/auth/login":{"post":{"tags":["auth-controller-impl"],"summary":"Аутентификация","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticateDto"}}},"required":true},"responses":{"200":{"description":"Успешная аутентификация","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticateResponseDto"}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/post/{id}":{"get":{"tags":["Post service"],"summary":"Получение поста","operationId":"getById","parameters":[{"name":"id","in":"path","description":"id поста","required":true,"schema":{"type":"string","description":"id поста"}}],"responses":{"404":{"description":"Пост не найден"},"200":{"description":"Пост получен","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PostDto"}]}}}},"400":{"description":"Bad Request"}}},"delete":{"tags":["Post service"],"summary":"Удаление поста","operationId":"deleteById","parameters":[{"name":"id","in":"path","description":"id Поста для удаления","required":true,"schema":{"type":"string","description":"id Поста для удаления"}}],"responses":{"404":{"description":"Посты не найдены"},"200":{"description":"Пост удален"},"400":{"description":"Bad Request"}}}},"/api/v1/post/{id}/comment/{commentId}/subcomment":{"get":{"tags":["Post service"],"summary":"Получение субкомментов к комменту","operationId":"getSubcomment","parameters":[{"name":"id","in":"path","description":"id поста","required":true,"schema":{"type":"string","description":"id поста"}},{"name":"commentId","in":"path","description":"id коммента","required":true,"schema":{"type":"string","description":"id коммента"}},{"name":"page","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"Субкомменты получены","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/Pageable"},{"$ref":"#/components/schemas/CommentDto"}]}}}},"404":{"description":"Субкомменты не найдены"},"400":{"description":"Bad Request"}}}},"/api/v1/notifications":{"get":{"tags":["notification-controller-impl"],"operationId":"getNotifcations","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NotificationsDto"}}}}}}},"/api/v1/notifications/count":{"get":{"tags":["notification-controller-impl"],"operationId":"getNotificationsCount","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NotificationCountDto"}}}}}}},"/api/v1/geo/country":{"get":{"tags":["Geo service"],"summary":"Получение всех стран","operationId":"getAll_1","responses":{"200":{"description":"Список стран получен","content":{"application/json":{"schema":{"allOf":[{"type":"string"},{"$ref":"#/components/schemas/CountryDto"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/geo/country/{countryId}/city":{"get":{"tags":["Geo service"],"summary":"Получение списка городов по id страны","operationId":"getCitiesByCountryId","parameters":[{"name":"countryId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"404":{"description":"Страна не найдена"},"200":{"description":"Список городов получен","content":{"application/json":{"schema":{"allOf":[{"type":"string"},{"$ref":"#/components/schemas/CityDto"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/friends":{"get":{"tags":["Friend service"],"summary":"Получение друзей по различным запросам","operationId":"getAll_2","parameters":[{"name":"searchDto","in":"query","required":true,"schema":{"$ref":"#/components/schemas/FriendSearchDto"}},{"name":"page","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"Друзья получены","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FriendDto"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/friends/{id}":{"get":{"tags":["Friend service"],"summary":"Получение друга по id","operationId":"getById_1","parameters":[{"name":"id","in":"path","description":"id друга","required":true,"schema":{"type":"string","description":"id друга"}}],"responses":{"200":{"description":"Друг получен","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FriendDto"}]}}}},"404":{"description":"Друг не найден"},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}},"delete":{"tags":["Friend service"],"summary":"Удаление","operationId":"deleteById_1","parameters":[{"name":"id","in":"path","description":"id пользователя для удаления","required":true,"schema":{"type":"string","description":"id пользователя для удаления"}}],"responses":{"404":{"description":"Пользователь не найден"},"200":{"description":"Удален","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FriendDto"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/friends/recommendations":{"get":{"tags":["Friend service"],"summary":"Получение рекомендаций.","operationId":"getRecommendation","parameters":[{"name":"searchDto","in":"query","required":true,"schema":{"$ref":"#/components/schemas/FriendSearchDto"}}],"responses":{"200":{"description":"Рекомендации получены","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FriendDto"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/friends/friendId":{"get":{"tags":["Friend service"],"summary":"Получение id друзей","operationId":"getFriendId","responses":{"200":{"description":"id друзей получены","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FriendDto"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/friends/count":{"get":{"tags":["Friend service"],"summary":"Получение количества входящих заявок в друзья","operationId":"count","responses":{"200":{"description":"Количество заявок получено","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FriendDto"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/friends/blockFriendId":{"get":{"tags":["Friend service"],"summary":"Получение id заблокированных пользователей","operationId":"getBlockedFriendsIds","responses":{"200":{"description":"id заблокированных пользователей получены","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/FriendDto"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/dialogs":{"get":{"tags":["Dialog service"],"summary":"Получение списка диалогов","operationId":"getAllDialogs","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"itemPerPage","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"Список диалогов получен","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/DialogsRs"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/dialogs/unreaded":{"get":{"tags":["Dialog service"],"summary":"Получение количества непрочитанных сообщений","operationId":"getUnreadMessageCount","responses":{"200":{"description":"Количество непрочитанных сообщений получено","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/UnreadCountRs"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/dialogs/messages":{"get":{"tags":["Dialog service"],"summary":"Получение списка сообщений диалога","operationId":"getAllMessages","parameters":[{"name":"companionId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"itemPerPage","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"200":{"description":"Список сообщений получен","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/MessagesRs"}]}}}},"400":{"description":"Bad Request"}}}},"/api/v1/auth/captcha":{"get":{"tags":["auth-controller-impl"],"summary":"Получение капчи","operationId":"captcha","responses":{"200":{"description":"Капча получена","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CaptchaDto"}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}},"/api/v1/account/search":{"get":{"tags":["Account service"],"summary":"Поиск аккаунта по имени и фамилии","operationId":"search","parameters":[{"name":"accountSearchDto","in":"query","required":true,"schema":{"$ref":"#/components/schemas/AccountSearchDto"}},{"name":"page","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"Аккаунт найден","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/Pageable"},{"$ref":"#/components/schemas/AccountDto"},{"$ref":"#/components/schemas/UserDto"}]}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"}}}}},"components":{"schemas":{"PostDto":{"type":"object","properties":{"id":{"type":"integer","description":"Автоматически сгенерированный идентификатор","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Удален?"},"time":{"type":"string","description":"Время создания поста","format":"date-time"},"timeChanged":{"type":"string","description":"Время изменения поста","format":"date-time"},"authorId":{"type":"integer","description":"Айди автора поста","format":"int64"},"title":{"type":"string","description":"Заголовок"},"type":{"type":"string","description":"Тип поста: POSTED, QUEUED - опубликован, поставлен в очередь (для отложенной публикации)","enum":["POSTED","QUEUED"]},"postText":{"type":"string","description":"Текст поста"},"isBlocked":{"type":"boolean","description":"Заблокирован?"},"commentsCount":{"type":"integer","description":"Количество комментов","format":"int64"},"tags":{"uniqueItems":true,"type":"array","description":"Теги","items":{"type":"string","description":"Теги"}},"likeAmount":{"type":"integer","description":"Количество лайков","format":"int64"},"myLike":{"type":"boolean","description":"Мой лайк?"},"imagePath":{"type":"string","description":"Путь к фото"},"publishDate":{"type":"string","description":"Время публикации поста","format":"date-time"}},"description":"Дто для поста"},"CommentDto":{"type":"object","properties":{"id":{"type":"integer","description":"Автоматически сгенерированный идентификатор","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Удален?"},"commentType":{"type":"string","description":"Тип коммента - POST, COMMENT - если POST - коммент к посту, если COMMENT - коммент к комменту, субкоммент","enum":["POST","COMMENT"]},"time":{"type":"string","description":"Время создания коммента","format":"date-time"},"timeChanged":{"type":"string","description":"Время обновления коммента","format":"date-time"},"authorId":{"type":"integer","description":"Айди автора коммента","format":"int64"},"parentId":{"type":"integer","description":"Айди коммента-родителя, к которому оставлен коммент","format":"int64"},"commentText":{"type":"string","description":"Текст коммента"},"postId":{"type":"integer","description":"Айди поста","format":"int64"},"isBlocked":{"type":"boolean","description":"Заблокирован?"},"likeAmount":{"type":"integer","description":"Количество лайков","format":"int64"},"myLike":{"type":"boolean","description":"Мой лайк?"},"commentsCount":{"type":"integer","description":"Количество комментов","format":"int64"},"imagePath":{"type":"string","description":"Адрес картинки"}},"description":"Дто для коммента"},"NotificationSettingDto":{"type":"object","properties":{"enable":{"type":"boolean"},"notification_type":{"type":"string","enum":["POST","POST_COMMENT","COMMENT_COMMENT","MESSAGE","FRIEND_REQUEST","FRIEND_BIRTHDAY","SEND_EMAIL_MESSAGE"]}}},"FriendDto":{"type":"object","properties":{"id":{"type":"integer","description":"Автоматически сгенерированный идентификатор","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Объект удален?","example":false},"photo":{"type":"string","description":"Фото"},"statusCode":{"type":"string","description":"Статус код, состояние дружбы - в друзьях, исходящая заявка, входящая заявка, рекомендация, блокирован","enum":["FRIEND","REQUEST_TO","REQUEST_FROM","BLOCKED","DECLINED","SUBSCRIBED","NONE","WATCHING","REJECTING","RECOMMENDATION"]},"firstName":{"type":"string","description":"Имя"},"lastName":{"type":"string","description":"Фамилия"},"city":{"type":"string","description":"Город"},"country":{"type":"string","description":"Страна"},"birthDate":{"type":"string","description":"Дата рождения","format":"date-time"},"isOnline":{"type":"boolean","description":"Онлайн?"},"Аккаунт, от которого идет запрос":{"type":"integer","format":"int64"},"Аккаунт, к которому идет запрос":{"type":"integer","format":"int64"},"Предыдущий статус":{"type":"string","enum":["FRIEND","REQUEST_TO","REQUEST_FROM","BLOCKED","DECLINED","SUBSCRIBED","NONE","WATCHING","REJECTING","RECOMMENDATION"]},"Рейтинг":{"type":"integer","format":"int64"}},"description":"Дто для друзей"},"SetStatusMessageReadDto":{"type":"object","properties":{"message":{"type":"string","description":"Сообщение о выполнении","example":"ок"}},"description":"Дто ответа на вопрос 'Проверить сообщение как прочитанное'"},"StatusMessageReadRs":{"type":"object","properties":{"error":{"type":"string","description":"Ошибка по запросу","example":"Неверный запрос"},"errorDescription":{"type":"string","description":"Описание ошибки","example":"Неверный код авторизации"},"timestamp":{"type":"integer","description":"Метка времени","format":"int64","example":1644234125},"data":{"$ref":"#/components/schemas/SetStatusMessageReadDto"}},"description":"Ответ на запрос пометить сообщение как прочитанное"},"AccountDto":{"type":"object","properties":{"id":{"type":"integer","description":"Автоматически сгенерированный идентификатор","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Объект удален?","example":false},"firstName":{"type":"string","description":"Фамилия","example":"Foma"},"lastName":{"type":"string","description":"Имя","example":"Kinyaev"},"email":{"type":"string","description":"Электронная почта пользователя","example":"fkinyaev@something.ru"},"password":{"type":"string","description":"Пароль пользователя","example":"Qwerty!321341"},"phone":{"type":"string","description":"Телефонный номер аккаунта","example":"79996662233"},"photo":{"type":"string","description":"Ссылка на фото аккаунта","example":"http://res.cloudinary.com/duvaewonz/image/upload/v1677442010/xfaazue6lvk7ilrkkycl.jpg"},"about":{"type":"string","description":"Описание аккаунта","example":"Отличное описание аккаунта"},"city":{"type":"string","description":"Город","example":"Москва"},"country":{"type":"string","description":"Страна","example":"Россия"},"statusCode":{"type":"string","description":"StatusCode аккаунта","example":"StatusCode.FRIEND","enum":["FRIEND","REQUEST_TO","REQUEST_FROM","BLOCKED","DECLINED","SUBSCRIBED","NONE","WATCHING","REJECTING","RECOMMENDATION"]},"regDate":{"type":"string","description":"Дата регистрации","format":"date-time"},"birthDate":{"type":"string","description":"Дата рождения","format":"date-time"},"messagePermission":{"type":"string","description":"Разрешения сообщения"},"lastOnlineTime":{"type":"string","description":"Время последнего появления онлайн","format":"date-time"},"isOnline":{"type":"boolean","description":"Онлайн?","example":true},"isBlocked":{"type":"boolean","description":"Заблокирован?","example":false},"photoId":{"type":"string","description":"Идентификатор фото"},"photoName":{"type":"string","description":"Имя фото","example":"Аватарка v1"},"createdOn":{"type":"string","description":"Дата создания аккаунта","format":"date-time"},"updatedOn":{"type":"string","description":"Дата обновления аккаунта","format":"date-time"}},"description":"Дто для аккаунта"},"UserDto":{"type":"object","properties":{"id":{"type":"integer","description":"Автоматически сгенерированный идентификатор","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Объект удален?","example":false},"firstName":{"type":"string","description":"Фамилия","example":"Foma"},"lastName":{"type":"string","description":"Имя","example":"Kinyaev"},"email":{"type":"string","description":"Электронная почта пользователя","example":"fkinyaev@something.ru"},"password":{"type":"string","description":"Пароль пользователя","example":"Qwerty!321341"}},"description":"Дто для пользователя"},"StorageDto":{"type":"object","properties":{"photoPath":{"type":"string","description":"Путь до фото","example":"http://res.cloudinary.com/duvaewonz/image/upload/v1677442010/xfaazue6lvk7ilrkkycl.jpg"},"аватарка v1":{"type":"string","description":"Имя фото"}},"description":"Дто фото из StorageServices"},"LikeDto":{"type":"object","properties":{"id":{"type":"integer","description":"Автоматически сгенерированный идентификатор","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Объект удален?","example":false},"authorId":{"type":"integer","format":"int64"},"time":{"type":"string","description":"Время создания лайка","format":"date-time"},"itemId":{"type":"integer","description":"id поста или комментария, которому поставлен лайк","format":"int64"},"type":{"type":"string","description":"Тип лайка: POST, COMMENT- лайк на пост, лайк на комментарий","enum":["POST","COMMENT"]}},"description":"Дто для лайка"},"EventNotification":{"type":"object","properties":{"authorId":{"type":"integer","format":"int64"},"receiverId":{"type":"integer","format":"int64"},"notificationType":{"type":"string","enum":["POST","POST_COMMENT","COMMENT_COMMENT","MESSAGE","FRIEND_REQUEST","FRIEND_BIRTHDAY","SEND_EMAIL_MESSAGE"]},"content":{"type":"string"}}},"RegistrationDto":{"type":"object","properties":{"email":{"type":"string","description":"Электронная почта нового пользователя"},"password1":{"type":"string","description":"Пароль нового пользователя"},"password2":{"type":"string","description":"Дубль пароля для проверки"},"firstName":{"type":"string","description":"Фамилия"},"lastName":{"type":"string","description":"Имя"},"captchaCode":{"type":"string","description":"Код с изображения капчи"},"captchaSecret":{"type":"string","description":"Идентификатор капчи"}},"description":"Дто для запроса на регистрацию"},"PasswordRecoveryDto":{"type":"object","properties":{"email":{"type":"string","description":"Электронная почта"}},"description":"Дто для запроса на получение письма для восстановления пароля"},"NewPasswordDto":{"type":"object","properties":{"password":{"type":"string","description":"Пароль"}},"description":"Дто для установки нового пароля"},"AuthenticateDto":{"type":"object","properties":{"email":{"type":"string","description":"Электронная почта пользователя"},"password":{"type":"string","description":"Пароль пользователя"}},"description":"Дто для запроса на аутентификацию"},"AuthenticateResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"Токен"},"refreshToken":{"type":"string","description":"Токен"}},"description":"Дто для ответа на аутентификацию"},"PostSearchDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор для поиска","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Флаг удаления объекта поиска","example":false},"ids":{"type":"array","description":"Айдишники постов","items":{"type":"integer","description":"Айдишники постов","format":"int64"}},"accountIds":{"type":"array","description":"Айдишники аккаунтов авторов","items":{"type":"integer","description":"Айдишники аккаунтов авторов","format":"int64"}},"blockedIds":{"type":"array","description":"Айдишники заблокированных авторов","items":{"type":"integer","description":"Айдишники заблокированных авторов","format":"int64"}},"author":{"type":"string","description":"Автор"},"withFriends":{"type":"boolean","description":"с друзьями?"},"tags":{"uniqueItems":true,"type":"array","description":"теги","items":{"type":"string","description":"теги"}},"dateFrom":{"type":"string","description":"от даты","format":"date-time"},"dateTo":{"type":"string","description":"до даты","format":"date-time"}},"description":"Дто для поиска постов"},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}},"NotificationDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"author":{"$ref":"#/components/schemas/AccountDto"},"content":{"type":"string"},"notificationType":{"type":"string","enum":["POST","POST_COMMENT","COMMENT_COMMENT","MESSAGE","FRIEND_REQUEST","FRIEND_BIRTHDAY","SEND_EMAIL_MESSAGE"]},"sentTime":{"type":"string","format":"date-time"}}},"NotificationsDto":{"type":"object","properties":{"timeStamp":{"type":"string","format":"date-time"},"data":{"type":"array","items":{"$ref":"#/components/schemas/NotificationDto"}}}},"NotificationSettingsDto":{"type":"array","properties":{"empty":{"type":"boolean"}},"items":{"$ref":"#/components/schemas/NotificationSettingDto"}},"Count":{"type":"object","properties":{"count":{"type":"integer","format":"int64"}}},"NotificationCountDto":{"type":"object","properties":{"timestamp":{"type":"integer","format":"int64"},"data":{"$ref":"#/components/schemas/Count"}}},"CityDto":{"type":"object","properties":{"id":{"type":"integer","description":"Автоматически сгенерированный идентификатор","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Объект удален?","example":false},"title":{"type":"string","description":"Наименование города","example":"Москва"},"countryId":{"type":"integer","description":"Id страны","format":"int64","example":42352}},"description":"Дто города"},"CountryDto":{"type":"object","properties":{"id":{"type":"integer","description":"Автоматически сгенерированный идентификатор","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Объект удален?","example":false},"title":{"type":"string","description":"Наименование страны","example":"Россия"},"cities":{"type":"array","description":"Города страны","example":"Россия: [Москва, Санкт-Петербург, Волгоград]","items":{"$ref":"#/components/schemas/CityDto"}}},"description":"Дто страны"},"FriendSearchDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор для поиска","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Флаг удаления объекта поиска","example":false},"ids":{"type":"array","description":"Айдишники друзей","items":{"type":"integer","description":"Айдишники друзей","format":"int64"}},"idFrom":{"type":"integer","description":"id от кого идет заявка","format":"int64"},"statusCode":{"type":"string","description":"Статус - тип состояния между пользователями","enum":["FRIEND","REQUEST_TO","REQUEST_FROM","BLOCKED","DECLINED","SUBSCRIBED","NONE","WATCHING","REJECTING","RECOMMENDATION"]},"idTo":{"type":"integer","description":"id кому идет заявка","format":"int64"},"firstName":{"type":"string","description":"Имя"},"birthDateFrom":{"type":"string","description":"Минимальная дата рождения","format":"date-time"},"birthDateTo":{"type":"string","description":"Максимальная дата рождения","format":"date-time"},"city":{"type":"string","description":"Город"},"country":{"type":"string","description":"Страна"},"ageFrom":{"type":"integer","description":"Возраст от","format":"int64"},"ageTo":{"type":"integer","description":"Возраст до","format":"int64"},"previousStatusCode":{"type":"string","description":"Предыдущий статус код","enum":["FRIEND","REQUEST_TO","REQUEST_FROM","BLOCKED","DECLINED","SUBSCRIBED","NONE","WATCHING","REJECTING","RECOMMENDATION"]}},"description":"Дто для поиска друзей"},"DialogDto":{"type":"object","properties":{"id":{"type":"integer","description":"Автоматически сгенерированный идентификатор","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Объект удален?","example":false},"unreadCount":{"type":"integer","description":"Количество непрочитанных сообщений диалога","format":"int64","example":10},"conversationPartner":{"$ref":"#/components/schemas/AccountDto"},"lastMessage":{"$ref":"#/components/schemas/MessageDto"}},"description":"Дто диалога"},"DialogsRs":{"type":"object","properties":{"error":{"type":"string","description":"Ошибка по запросу","example":"Неверный запрос"},"errorDescription":{"type":"string","description":"Описание ошибки","example":"Неверный код авторизации"},"timestamp":{"type":"integer","description":"Метка времени","format":"int64","example":1644234125},"total":{"type":"integer","description":"Количество диалогов пользователя в списке","format":"int64","example":10},"offset":{"type":"integer","description":"Отступ от начала списка","format":"int32","example":0},"perPage":{"type":"integer","description":"Количество диалогов пользователя на страницу","format":"int32","example":20},"currentUserId":{"type":"integer","description":"Id текущего пользователя","format":"int64","example":55},"data":{"type":"array","description":"Список диалогов пользователя","items":{"$ref":"#/components/schemas/DialogDto"}}},"description":"Ответ на запрос получения списка диалогов пользователя"},"MessageDto":{"type":"object","properties":{"id":{"type":"integer","description":"Автоматически сгенерированный идентификатор","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Объект удален?","example":false},"time":{"type":"string","description":"Дата и время отправки","format":"date-time"},"authorId":{"type":"integer","description":"Id автора сообщения","format":"int64"},"recipientId":{"type":"integer","description":"Id получателя сообщения","format":"int64"},"messageText":{"type":"string","description":"Текст сообщения"},"readStatusDto":{"type":"string","description":"Статус прочтения: SENT, READ - отправлен, прочитан","enum":["SENT","READ"]},"dialogId":{"type":"integer","description":"Id диалога","format":"int64"}},"description":"Дто сообщения"},"UnreadCountDto":{"type":"object","properties":{"count":{"type":"integer","description":"Количество непрочитанных сообщений в диалоге","format":"int64"}},"description":"Дто количества непрочитанных сообщений"},"UnreadCountRs":{"type":"object","properties":{"error":{"type":"string","description":"Ошибка по запросу","example":"Неверный запрос"},"errorDescription":{"type":"string","description":"Описание ошибки","example":"Неверный код авторизации"},"timestamp":{"type":"integer","description":"Метка времени","format":"int64","example":1644234125},"data":{"$ref":"#/components/schemas/UnreadCountDto"}},"description":"Ответ на запрос получения количества непрочитанных сообщений диалога"},"MessageShortDto":{"type":"object","properties":{"id":{"type":"integer","description":"Автоматически сгенерированный идентификатор","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Объект удален?","example":false},"time":{"type":"integer","description":"Дата и время отправки","format":"int64","example":1673667157},"authorId":{"type":"integer","description":"Id автора сообщения","format":"int64"},"messageText":{"type":"string","description":"Текст сообщения"}},"description":"Дто сообщения краткое"},"MessagesRs":{"type":"object","properties":{"error":{"type":"string","description":"Ошибка по запросу","example":"Неверный запрос"},"errorDescription":{"type":"string","description":"Описание ошибки","example":"Неверный код авторизации"},"timestamp":{"type":"integer","description":"Метка времени","format":"int64","example":1644234125},"total":{"type":"integer","description":"Количество сообщений диалога в списке","format":"int64","example":10},"offset":{"type":"integer","description":"Отступ от начала списка","format":"int32","example":0},"perPage":{"type":"integer","description":"Количество сообщений диалога на страницу","format":"int32","example":20},"data":{"type":"array","description":"Список сообщений диалога","items":{"$ref":"#/components/schemas/MessageShortDto"}}},"description":"Ответ на запрос получения списка сообщений в диалоге"},"CaptchaDto":{"type":"object","properties":{"secret":{"type":"string","description":"Идентификатор капчи"},"image":{"type":"string","description":"Изображение капчи закодированное в Base64"}},"description":"Дто для запроса капчи"},"AccountSearchDto":{"type":"object","properties":{"id":{"type":"integer","description":"Идентификатор для поиска","format":"int64","example":42352},"isDeleted":{"type":"boolean","description":"Флаг удаления объекта поиска","example":false},"ids":{"type":"array","description":"Для поиска по id","example":"ids: [31231, 43252, 421678]","items":{"type":"integer","description":"Для поиска по id","format":"int64"}},"blockedByIds":{"type":"array","description":"Исключение id`s которые заблокированны","example":"ids: [31231, 43252, 421678]","items":{"type":"integer","description":"Исключение id`s которые заблокированны","format":"int64"}},"author":{"type":"string","description":"Поиск по автору(имя или фамилия), при заполнении только поля поиск","example":"Олег"},"firstName":{"type":"string","description":"Поиск по имени","example":"Олег"},"lastName":{"type":"string","description":"Поиск по фамилии","example":"Тактаров"},"city":{"type":"string","description":"Поиск по городу","example":"Москва"},"country":{"type":"string","description":"Поиск по стране","example":"Россия"},"isBlocked":{"type":"boolean","description":"Для исключения заблокированных пользователей","example":false},"ageTo":{"type":"integer","description":"Поиск по возрасту конец диапазона","format":"int32","example":30},"ageFrom":{"type":"integer","description":"Поиск по возрасту начало диапазона","format":"int32","example":20}},"description":"Дто для поиска по аккаунту"}}}}